set header_cache = "~/.cache/mutt/headers"
set message_cachedir = "~/.cache/mutt/messages"
set tmpdir = "/tmp"
set imap_check_subscribed
set timeout = 60
set mail_check = 120
set imap_keepalive = 300
unset imap_passive
set mbox_type=Maildir
set sort = threads
set sort_aux=last-date-received
set sleep_time = 0
set beep = no
set smart_wrap
set pager_index_lines=8
set confirmappend = no
set include=yes
set hdrs
set edit_hdrs
set nomarkers
set reply_to=ask-yes
set envelope_from

set editor = "es"

## Passwords file
source "gpg --textmode -d ~/.mutt/passwords.gpg |"

source /usr/share/doc/mutt/examples/gpg.rc

## Settings

set send_charset="utf-8"

## Theming

source ~/.mutt/theme

# message list
set index_format = "%4C %Z %{%b %d %R} %-15.15L (%6l) %s"

## HTML mails
set mailcap_path = ~/.mutt/mailcap
alternative_order text/plain text/html
auto_view text/html

## khard
set query_command= "khard email --parsable %s"
bind editor <Tab> complete-query
bind editor ^T complete
macro index,pager a "<pipe-message>khard add-email<return>" "Add this sender to khard"

# binds
bind index "{" previous-thread
bind index "}" next-thread
bind index "G" sync-mailbox
bind pager "{" previous-thread
bind pager "}" next-thread


# custom headers
## Sidebar
## Variables
set sidebar_visible = yes
set sidebar_short_path = yes
set sidebar_delim_chars = "/."
set sidebar_folder_indent = yes
set sidebar_indent_string = "  "
set sidebar_new_mail_only = no
set sidebar_next_new_wrap = no
set sidebar_on_right = no
set sidebar_divider_char = '|'
set mail_check_stats
set sidebar_format = "%B%?F? [%F]?%* %?N?%N/?%S"
set sidebar_sort_method = "path"
## Functions
bind index,pager \Cp sidebar-prev
bind index,pager \Cn sidebar-next
bind index,pager \Co sidebar-open
bind index,pager <F5> sidebar-page-up
bind index,pager <F6> sidebar-page-down
bind index,pager \C[ sidebar-prev-new
bind index,pager \C] sidebar-next-new
bind index,pager B sidebar-toggle-visible
## Colors
color sidebar_highlight black cyan
color sidebar_divider color8 black
color sidebar_flagged red black
color sidebar_new green black
color sidebar_ordinary color2 default

# Attachment support
set abort_noattach = ask-yes
set attach_keyword = "\\<(Anhang|angehängt|beigefügt|attach(|ed|ments?)?)\\>"

# New mail notification
set new_mail_command="notify-send 'New Email in %f' '%n new messages, %u unread.' &"

# compatibility with some use cases
set abort_unmodified = no

# Local Variables:
# mode: muttrc
# End:
